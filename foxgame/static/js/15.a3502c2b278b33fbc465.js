webpackJsonp([15],{"+87i":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("aozt"),n=s.n(a),o=s("wSez"),i=s("T9o8"),c=(new Date).getTime(),r=function(){return Object(i.a)("https://java.weirdfoxes.cn/code/time/"+c).then(function(t){return parseInt(t.data)}).catch(function(t){Object(o.Toast)(t.message)}).then(function(t){return n.a.get("https://java.weirdfoxes.cn/code/"+t,{responseType:"arraybuffer"}).then(function(t){return"data:image/png;base64,"+btoa(new Uint8Array(t.data).reduce(function(t,e){return t+String.fromCharCode(e)},""))}).then(function(t){return console.log("getcode",t),t}).catch(function(t){Object(o.Toast)(t.message)})})},d={name:"PhonecodeBtn",props:{},data:function(){return{btndisabled:!1,second:0,btntext:"获取验证码"}},methods:{run:function(){this.second=10,this.btndisabled=!0,this.timer()},timer:function(){this.second>0?(this.second--,setTimeout(this.timer,1e3)):this.btndisabled=!1}}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"phonecode",attrs:{type:"button",disabled:this.btndisabled}},[this._v(this._s(this.second?this.second:this.btntext))])},staticRenderFns:[]};var p=function(t){return!!t.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/)},u={name:"Register",data:function(){return{agreenValue:["值A"],agreenOption:[{label:"同意超级狐狸注册协议",value:"值A"}],disabled:!1,codeImg:"",params:{phone:"",imgcode:"",code:"",password:"",repassword:""}}},methods:{handleSubmit:function(){var t={phone:this.params.phone,pwd:this.params.password,code:this.params.code};return p(this.params.phone)?""===this.params.code?(Object(o.Toast)("手机验证码不能为空"),!1):""===this.params.password?(Object(o.Toast)("请输入密码"),!1):this.params.repassword!==this.params.password?(Object(o.Toast)("二次密码输入不一致"),!1):void this.$http("http://www.weirdfoxes.cn:99/ComService.svc/ReSetOrNewUser",{data:t}).then(function(t){console.log("http://www.weirdfoxes.cn:99/ComService.svc/ReSetOrNewUser",t)}):(Object(o.Toast)("请填写正确的手机号码"),!1)},handlePhonecode:function(){var t=this;if(!p(this.params.phone))return Object(o.Toast)("请填写正确的手机号码"),!1;var e={phone:this.params.phone,timespan:c,code:this.params.imgcode};this.$http("http://www.weirdfoxes.cn:99/ComService.svc/SendMes",{method:"post",data:e}).then(function(s){console.log("sendParams",e),console.log("-------\x3e",s),t.$refs.phonecodeBtn.run()}).catch(function(t){Object(o.Toast)(t.message)})},setCode:function(){var t=this;r().then(function(e){t.codeImg=e})}},components:{PhonecodeBtn:s("VU/8")(d,l,!1,function(t){s("Awk7")},"data-v-11ad5c9f",null).exports},mounted:function(){this.setCode()}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"login"},[s("div",{staticClass:"login-list"},[s("ul",[s("li",[s("div",{staticClass:"text"},[t._v("账号")]),t._v(" "),s("div",{staticClass:"inputcolumn"},[s("mt-field",{attrs:{type:"tel",placeholder:"输入手机号码",attr:{maxlength:11}},model:{value:t.params.phone,callback:function(e){t.$set(t.params,"phone",e)},expression:"params.phone"}})],1)]),t._v(" "),s("li",[s("div",{staticClass:"text"},[t._v("图片验证码")]),t._v(" "),s("div",{staticClass:"inputcolumn"},[s("div",{staticClass:"inputflex"},[s("mt-field",{attrs:{placeholder:"请输入答案",attr:{maxlength:20}},model:{value:t.params.imgcode,callback:function(e){t.$set(t.params,"imgcode",e)},expression:"params.imgcode"}})],1),t._v(" "),s("div",{staticClass:"inputphoto"},[s("img",{attrs:{src:t.codeImg,alt:""}})])])]),t._v(" "),s("li",[s("div",{staticClass:"text"},[t._v("验证手机")]),t._v(" "),s("div",{staticClass:"inputcolumn"},[s("div",{staticClass:"inputflex"},[s("mt-field",{attrs:{type:"tel",placeholder:"输入验证码",attr:{maxlength:6}},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}})],1),t._v(" "),s("div",{staticClass:"inputbtn",on:{click:t.handlePhonecode}},[s("phonecode-btn",{ref:"phonecodeBtn"})],1)])]),t._v(" "),s("li",[s("div",{staticClass:"text"},[t._v("输入6位密码")]),t._v(" "),s("div",{staticClass:"inputcolumn"},[s("mt-field",{attrs:{placeholder:"设置密码",attr:{maxlength:20}},model:{value:t.params.password,callback:function(e){t.$set(t.params,"password",e)},expression:"params.password"}})],1)]),t._v(" "),s("li",[s("div",{staticClass:"text"},[t._v("确认密码")]),t._v(" "),s("div",{staticClass:"inputcolumn"},[s("mt-field",{attrs:{placeholder:"再次输入密码",attr:{maxlength:20}},model:{value:t.params.repassword,callback:function(e){t.$set(t.params,"repassword",e)},expression:"params.repassword"}})],1)])])]),t._v(" "),s("div",{staticClass:"login-agreen"},[s("mt-checklist",{attrs:{options:t.agreenOption},model:{value:t.agreenValue,callback:function(e){t.agreenValue=e},expression:"agreenValue"}})],1),t._v(" "),s("div",{staticClass:"common-btn"},[s("button",{attrs:{type:"button"},on:{click:t.handleSubmit}},[t._v("确认")])])])])},staticRenderFns:[]};var h=s("VU/8")(u,m,!1,function(t){s("Womv")},null,null);e.default=h.exports},Awk7:function(t,e){},Womv:function(t,e){}});
//# sourceMappingURL=15.a3502c2b278b33fbc465.js.map